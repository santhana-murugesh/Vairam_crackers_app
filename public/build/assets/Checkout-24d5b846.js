import{r as C,o as U,l as v,v as O,A as T,c,e as s,t as l,u as e,F as W,f as $,g,k as F,m as _,y as f,a as m,n as x,h as i,w as B,b as z,z as L,d as u,j as Y,B as j,C as R}from"./app-913581b1.js";import{_ as h}from"./InputError-5d8f2cd3.js";import{_ as G}from"./_plugin-vue_export-helper-c27b6911.js";/* empty css            */const o=b=>(j("data-v-aa87c9f4"),b=b(),R(),b),H={class:"checkout-page"},J=z('<div class="progress-container" data-v-aa87c9f4><div class="progress-bar" data-v-aa87c9f4><div class="progress-step active" data-v-aa87c9f4><div class="step-icon" data-v-aa87c9f4>1</div><span class="step-label" data-v-aa87c9f4>Cart</span></div><div class="progress-line" data-v-aa87c9f4></div><div class="progress-step active" data-v-aa87c9f4><div class="step-icon" data-v-aa87c9f4>2</div><span class="step-label" data-v-aa87c9f4>Details</span></div><div class="progress-line" data-v-aa87c9f4></div><div class="progress-step" data-v-aa87c9f4><div class="step-icon" data-v-aa87c9f4>3</div><span class="step-label" data-v-aa87c9f4>Payment</span></div></div></div>',1),K={class:"checkout-container"},Q={class:"checkout-header"},X=o(()=>s("div",{class:"header-content"},[s("h1",{class:"checkout-title"},[s("i",{class:"fas fa-shopping-cart"}),i(" Complete Your Order ")]),s("p",{class:"checkout-subtitle"},"Fill in your details to place your order")],-1)),Z={class:"company-badge"},ss=o(()=>s("i",{class:"fas fa-fire"},null,-1)),es={class:"checkout-content"},ts={class:"order-summary-sidebar"},as={class:"summary-header"},os=o(()=>s("h3",null,[s("i",{class:"fas fa-receipt"}),i(" Order Summary")],-1)),rs={class:"item-count"},is={key:0,class:"loading-state"},ls=o(()=>s("div",{class:"loading-spinner"},null,-1)),ns=o(()=>s("p",null,"Loading order summary...",-1)),ds=[ls,ns],cs={key:1,class:"order-items-container"},us={class:"item-image-container"},ms=["src"],ps={class:"item-quantity-badge"},_s={class:"item-details"},fs={class:"item-name"},hs={key:0,class:"item-description"},vs={class:"item-pricing"},gs={class:"item-price"},bs={class:"item-total"},ys={key:2,class:"pricing-summary"},ws={class:"summary-row"},ks={key:0,class:"summary-row discount"},Ns=o(()=>s("span",null,[s("i",{class:"fas fa-tag"}),i(" Discount")],-1)),Ps={class:"summary-row"},Cs=o(()=>s("span",null,[s("i",{class:"fas fa-truck"}),i(" Delivery")],-1)),xs=o(()=>s("div",{class:"summary-divider"},null,-1)),Vs={class:"summary-row total"},Ss=o(()=>s("span",null,"Total Amount",-1)),Is={key:3,class:"minimum-order-warning"},qs=o(()=>s("i",{class:"fas fa-exclamation-triangle"},null,-1)),Es={class:"warning-content"},As=o(()=>s("strong",null,"Minimum Order Required",-1)),Ms={class:"customer-form-section"},Ds=o(()=>s("div",{class:"form-header"},[s("h3",null,[s("i",{class:"fas fa-user"}),i(" Customer Information")]),s("p",null,"Please provide your details for delivery")],-1)),Us=["onSubmit"],Os={class:"form-section"},Ts=o(()=>s("h4",{class:"section-title"},[s("i",{class:"fas fa-user-circle"}),i(" Personal Details ")],-1)),Ws={class:"form-row"},$s={class:"form-group"},Fs=o(()=>s("label",{for:"name"},[s("i",{class:"fas fa-user"}),i(" Full Name ")],-1)),Bs={class:"form-group"},zs=o(()=>s("label",{for:"name"},[s("i",{class:"fa-solid fa-square-envelope"}),i(" Email ")],-1)),Ls={class:"form-row"},Ys={class:"form-group"},js=o(()=>s("label",{for:"mobile"},[s("i",{class:"fas fa-mobile-alt"}),i(" Mobile Number ")],-1)),Rs={key:0,class:"error-message"},Gs=o(()=>s("i",{class:"fas fa-exclamation-circle"},null,-1)),Hs={class:"form-group"},Js=o(()=>s("label",{for:"whatsapp"},[s("i",{class:"fab fa-whatsapp"}),i(" WhatsApp Number ")],-1)),Ks={key:0,class:"error-message"},Qs=o(()=>s("i",{class:"fas fa-exclamation-circle"},null,-1)),Xs={class:"form-section"},Zs=o(()=>s("h4",{class:"section-title"},[s("i",{class:"fas fa-map-marker-alt"}),i(" Delivery Address ")],-1)),se={class:"form-group"},ee=o(()=>s("label",{for:"city"},[s("i",{class:"fas fa-city"}),i(" City/Town ")],-1)),te={class:"form-group"},ae=o(()=>s("label",{for:"address"},[s("i",{class:"fas fa-home"}),i(" Complete Address ")],-1)),oe={class:"form-row"},re={class:"form-group"},ie=o(()=>s("label",{for:"district"},[s("i",{class:"fas fa-map"}),i(" District ")],-1)),le={class:"form-group"},ne=o(()=>s("label",{for:"state"},[s("i",{class:"fas fa-map-pin"}),i(" State ")],-1)),de={class:"form-group"},ce=o(()=>s("label",{for:"pincode"},[s("i",{class:"fas fa-mail-bulk"}),i(" PIN Code ")],-1)),ue={class:"form-actions"},me=["disabled"],pe=o(()=>s("i",{class:"fas fa-paper-plane"},null,-1)),_e=o(()=>s("div",{class:"order-terms"},[s("i",{class:"fas fa-shield-alt"}),s("span",null,"Your order is secure and will be processed immediately")],-1)),fe={class:"back-to-home"},he=o(()=>s("i",{class:"fas fa-arrow-left"},null,-1)),ve={__name:"Checkout",props:{global_discount:{type:Number,default:0},min_order_value:{type:Number,default:500},delivery_charges:{type:Number,default:0}},setup(b){const p=b,d=L(),w=C(!0);U(()=>{d.dispatch("products/initializeCart"),setTimeout(()=>{w.value=!1},100)});const y=v(()=>d.getters["products/getOrderItems"]),V=v(()=>d.getters["products/totalItems"]),S=v(()=>{const n=p.global_discount;return Math.round(d.getters["products/totalPrice"]/(1-n*(1/100)))*(n/100)}),q=v(()=>{const n=p.global_discount;return Math.round(d.getters["products/totalPrice"]/(1-n*(1/100)))}),E=v(()=>{const n=Number(d.getters["products/totalPrice"]),r=Number(p.delivery_charges);return n+r}),k=v(()=>y.value.length>0&&d.getters["products/totalPrice"]>=p.min_order_value&&t.name&&t.mobile_number&&t.whatsapp_number&&t.city_town&&t.address),t=O({name:"",email:"",mobile_number:"",whatsapp_number:"",city_town:"",address:"",district:"",state:"",pin_code:"",order_items:y.value});T(y,n=>{t.order_items=n});const N=C(!1),P=C(!1),A=()=>{N.value=!/^\d{10}$/.test(t.mobile_number)},M=()=>{P.value=!/^\d{10}$/.test(t.whatsapp_number)},D=()=>{if(y.value.length===0){alert("Please add items to cart before placing order");return}if(d.getters["products/totalPrice"]<p.min_order_value){alert(`Order value must be at least ₹${p.min_order_value}`);return}const n=/^[0-9]{10}$/;if(!n.test(t.mobile_number)){alert("Please enter a valid 10-digit mobile number");return}if(!n.test(t.whatsapp_number)){alert("Please enter a valid 10-digit WhatsApp number");return}t.post(route("orders.store"),{onSuccess:()=>{d.commit("products/clearCart")},onError:r=>{alert("Failed to place order. Please check your details and try again.")}})};return(n,r)=>{var I;return u(),c("div",H,[J,s("div",K,[s("div",Q,[X,s("div",Z,[ss,s("span",null,l(((I=n.$page.props.settings)==null?void 0:I.company_name)||"Company Name"),1)])]),s("div",es,[s("div",ts,[s("div",as,[os,s("span",rs,l(e(V))+" items",1)]),w.value?(u(),c("div",is,ds)):(u(),c("div",cs,[(u(!0),c(W,null,$(e(y),a=>(u(),c("div",{key:a.id,class:"order-item-card"},[s("div",us,[s("img",{src:"/storage/"+a.image,alt:"item image",class:"item-image"},null,8,ms),s("div",ps,l(a.quantity),1)]),s("div",_s,[s("h4",fs,l(a.name),1),a.name_ta&&a.name!==a.name_ta?(u(),c("p",hs,l(a.name_ta),1)):g("",!0),s("div",vs,[s("span",gs,"₹"+l(a.price),1),s("span",bs,"₹"+l(Math.round(a.quantity*a.price)),1)])])]))),128))])),w.value?g("",!0):(u(),c("div",ys,[s("div",ws,[s("span",null,"Subtotal ("+l(e(V))+" items)",1),s("span",null,"₹"+l(e(q)),1)]),e(S)>0?(u(),c("div",ks,[Ns,s("span",null,"-₹"+l(e(S)),1)])):g("",!0),s("div",Ps,[Cs,s("span",null,"₹"+l(p.delivery_charges),1)]),xs,s("div",Vs,[Ss,s("span",null,"₹"+l(e(E)),1)])])),!w.value&&e(d).getters["products/totalPrice"]<p.min_order_value?(u(),c("div",Is,[qs,s("div",Es,[As,s("p",null,"Add ₹"+l(p.min_order_value-e(d).getters["products/totalPrice"])+" more to your cart",1)])])):g("",!0)]),s("div",Ms,[Ds,s("form",{onSubmit:F(D,["prevent"]),class:"customer-form"},[s("div",Os,[Ts,s("div",Ws,[s("div",$s,[Fs,_(s("input",{id:"name","onUpdate:modelValue":r[0]||(r[0]=a=>e(t).name=a),type:"text",required:"",placeholder:"Enter your full name",class:"form-input"},null,512),[[f,e(t).name]]),m(h,{message:e(t).errors.name},null,8,["message"])]),s("div",Bs,[zs,_(s("input",{id:"email","onUpdate:modelValue":r[1]||(r[1]=a=>e(t).email=a),type:"text",required:"",placeholder:"Enter your email",class:"form-input"},null,512),[[f,e(t).email]]),m(h,{message:e(t).errors.email},null,8,["message"])])]),s("div",Ls,[s("div",Ys,[js,_(s("input",{id:"mobile","onUpdate:modelValue":r[2]||(r[2]=a=>e(t).mobile_number=a),type:"tel",required:"",placeholder:"10-digit mobile number",class:x(["form-input",{error:N.value}]),onInput:A},null,34),[[f,e(t).mobile_number]]),N.value?(u(),c("span",Rs,[Gs,i(" Please enter a valid 10-digit mobile number ")])):g("",!0),m(h,{message:e(t).errors.mobile_number},null,8,["message"])]),s("div",Hs,[Js,_(s("input",{id:"whatsapp","onUpdate:modelValue":r[3]||(r[3]=a=>e(t).whatsapp_number=a),type:"tel",required:"",placeholder:"10-digit WhatsApp number",class:x(["form-input",{error:P.value}]),onInput:M},null,34),[[f,e(t).whatsapp_number]]),P.value?(u(),c("span",Ks,[Qs,i(" Please enter a valid 10-digit WhatsApp number ")])):g("",!0),m(h,{message:e(t).errors.whatsapp_number},null,8,["message"])])])]),s("div",Xs,[Zs,s("div",se,[ee,_(s("input",{id:"city","onUpdate:modelValue":r[4]||(r[4]=a=>e(t).city_town=a),type:"text",required:"",placeholder:"Enter your city or town",class:"form-input"},null,512),[[f,e(t).city_town]]),m(h,{message:e(t).errors.city_town},null,8,["message"])]),s("div",te,[ae,_(s("textarea",{id:"address","onUpdate:modelValue":r[5]||(r[5]=a=>e(t).address=a),required:"",placeholder:"Enter your complete address including street, area, landmarks",rows:"3",class:"form-textarea"},null,512),[[f,e(t).address]]),m(h,{message:e(t).errors.address},null,8,["message"])]),s("div",oe,[s("div",re,[ie,_(s("input",{id:"district","onUpdate:modelValue":r[6]||(r[6]=a=>e(t).district=a),type:"text",required:"",placeholder:"Enter district",class:"form-input"},null,512),[[f,e(t).district]]),m(h,{message:e(t).errors.district},null,8,["message"])]),s("div",le,[ne,_(s("input",{id:"state","onUpdate:modelValue":r[7]||(r[7]=a=>e(t).state=a),type:"text",placeholder:"Enter state",class:"form-input"},null,512),[[f,e(t).state]]),m(h,{message:e(t).errors.state},null,8,["message"])])]),s("div",de,[ce,_(s("input",{id:"pincode","onUpdate:modelValue":r[8]||(r[8]=a=>e(t).pin_code=a),type:"text",placeholder:"Enter 6-digit PIN code",class:"form-input"},null,512),[[f,e(t).pin_code]]),m(h,{message:e(t).errors.pin_code},null,8,["message"])])]),s("div",ue,[s("button",{type:"submit",class:x(["submit-button",{disabled:!e(k)}]),disabled:!e(k)},[pe,i(" "+l(e(k)?"Place Order Now":"Complete all fields"),1)],10,me),_e])],40,Us)])]),s("div",fe,[m(e(Y),{href:"/",class:"back-link"},{default:B(()=>[he,i(" Continue Shopping ")]),_:1})])])])}}},ke=G(ve,[["__scopeId","data-v-aa87c9f4"]]);export{ke as default};

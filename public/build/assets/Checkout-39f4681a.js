import{r as C,o as O,l as f,v as U,A as T,c,e as s,t as l,u as e,F as W,f as $,k as b,j as F,m as p,y as h,a as _,i as x,g as i,w as B,b as z,z as L,d as u,n as Y,B as j,C as R}from"./app-943ba8e2.js";import{_ as v}from"./InputError-85d2b5a9.js";import{_ as G}from"./_plugin-vue_export-helper-c27b6911.js";/* empty css            */const o=g=>(j("data-v-94db6883"),g=g(),R(),g),H={class:"checkout-page"},J=z('<div class="progress-container" data-v-94db6883><div class="progress-bar" data-v-94db6883><div class="progress-step active" data-v-94db6883><div class="step-icon" data-v-94db6883>1</div><span class="step-label" data-v-94db6883>Cart</span></div><div class="progress-line" data-v-94db6883></div><div class="progress-step active" data-v-94db6883><div class="step-icon" data-v-94db6883>2</div><span class="step-label" data-v-94db6883>Details</span></div><div class="progress-line" data-v-94db6883></div><div class="progress-step" data-v-94db6883><div class="step-icon" data-v-94db6883>3</div><span class="step-label" data-v-94db6883>Payment</span></div></div></div>',1),K={class:"checkout-container"},Q={class:"checkout-header"},X=o(()=>s("div",{class:"header-content"},[s("h1",{class:"checkout-title"},[s("i",{class:"fas fa-shopping-cart"}),i(" Complete Your Order ")]),s("p",{class:"checkout-subtitle"},"Fill in your details to place your order")],-1)),Z={class:"company-badge"},ss=o(()=>s("i",{class:"fas fa-fire"},null,-1)),es={class:"checkout-content"},ts={class:"order-summary-sidebar"},as={class:"summary-header"},os=o(()=>s("h3",null,[s("i",{class:"fas fa-receipt"}),i(" Order Summary")],-1)),rs={class:"item-count"},is={key:0,class:"loading-state"},ls=o(()=>s("div",{class:"loading-spinner"},null,-1)),ns=o(()=>s("p",null,"Loading order summary...",-1)),ds=[ls,ns],cs={key:1,class:"order-items-container"},us={class:"item-image-container"},ms=["src"],_s={class:"item-quantity-badge"},ps={class:"item-details"},hs={class:"item-name"},vs={key:0,class:"item-description"},fs={class:"item-pricing"},bs={class:"item-price"},gs={class:"item-total"},ys={key:2,class:"pricing-summary"},ws={class:"summary-row"},ks={key:0,class:"summary-row discount"},Ns=o(()=>s("span",null,[s("i",{class:"fas fa-tag"}),i(" Discount")],-1)),Ps={class:"summary-row"},Cs=o(()=>s("span",null,[s("i",{class:"fas fa-truck"}),i(" Delivery")],-1)),xs=o(()=>s("div",{class:"summary-divider"},null,-1)),Vs={class:"summary-row total"},Ss=o(()=>s("span",null,"Total Amount",-1)),Is={key:3,class:"minimum-order-warning"},As=o(()=>s("i",{class:"fas fa-exclamation-triangle"},null,-1)),qs={class:"warning-content"},Es=o(()=>s("strong",null,"Minimum Order Required",-1)),Ms={class:"customer-form-section"},Ds=o(()=>s("div",{class:"form-header"},[s("h3",null,[s("i",{class:"fas fa-user"}),i(" Customer Information")]),s("p",null,"Please provide your details for delivery")],-1)),Os=["onSubmit"],Us={class:"form-section"},Ts=o(()=>s("h4",{class:"section-title"},[s("i",{class:"fas fa-user-circle"}),i(" Personal Details ")],-1)),Ws={class:"form-row"},$s={class:"form-group"},Fs=o(()=>s("label",{for:"name"},[s("i",{class:"fas fa-user"}),i(" Full Name ")],-1)),Bs={class:"form-row"},zs={class:"form-group"},Ls=o(()=>s("label",{for:"mobile"},[s("i",{class:"fas fa-mobile-alt"}),i(" Mobile Number ")],-1)),Ys={key:0,class:"error-message"},js=o(()=>s("i",{class:"fas fa-exclamation-circle"},null,-1)),Rs={class:"form-group"},Gs=o(()=>s("label",{for:"whatsapp"},[s("i",{class:"fab fa-whatsapp"}),i(" WhatsApp Number ")],-1)),Hs={key:0,class:"error-message"},Js=o(()=>s("i",{class:"fas fa-exclamation-circle"},null,-1)),Ks={class:"form-section"},Qs=o(()=>s("h4",{class:"section-title"},[s("i",{class:"fas fa-map-marker-alt"}),i(" Delivery Address ")],-1)),Xs={class:"form-group"},Zs=o(()=>s("label",{for:"city"},[s("i",{class:"fas fa-city"}),i(" City/Town ")],-1)),se={class:"form-group"},ee=o(()=>s("label",{for:"address"},[s("i",{class:"fas fa-home"}),i(" Complete Address ")],-1)),te={class:"form-row"},ae={class:"form-group"},oe=o(()=>s("label",{for:"district"},[s("i",{class:"fas fa-map"}),i(" District ")],-1)),re={class:"form-group"},ie=o(()=>s("label",{for:"state"},[s("i",{class:"fas fa-map-pin"}),i(" State ")],-1)),le={class:"form-group"},ne=o(()=>s("label",{for:"pincode"},[s("i",{class:"fas fa-mail-bulk"}),i(" PIN Code ")],-1)),de={class:"form-actions"},ce=["disabled"],ue=o(()=>s("i",{class:"fas fa-paper-plane"},null,-1)),me=o(()=>s("div",{class:"order-terms"},[s("i",{class:"fas fa-shield-alt"}),s("span",null,"Your order is secure and will be processed immediately")],-1)),_e={class:"back-to-home"},pe=o(()=>s("i",{class:"fas fa-arrow-left"},null,-1)),he={__name:"Checkout",props:{global_discount:{type:Number,default:0},min_order_value:{type:Number,default:500},delivery_charges:{type:Number,default:0}},setup(g){const m=g,d=L(),w=C(!0);O(()=>{d.dispatch("products/initializeCart"),setTimeout(()=>{w.value=!1},100)});const y=f(()=>d.getters["products/getOrderItems"]),V=f(()=>d.getters["products/totalItems"]),S=f(()=>{const n=m.global_discount;return Math.round(d.getters["products/totalPrice"]/(1-n*(1/100)))*(n/100)}),A=f(()=>{const n=m.global_discount;return Math.round(d.getters["products/totalPrice"]/(1-n*(1/100)))}),q=f(()=>{const n=Number(d.getters["products/totalPrice"]),r=Number(m.delivery_charges);return n+r}),k=f(()=>y.value.length>0&&d.getters["products/totalPrice"]>=m.min_order_value&&t.name&&t.mobile_number&&t.whatsapp_number&&t.city_town&&t.address),t=U({name:"",mobile_number:"",whatsapp_number:"",city_town:"",address:"",district:"",state:"",pin_code:"",order_items:y.value});T(y,n=>{t.order_items=n});const N=C(!1),P=C(!1),E=()=>{N.value=!/^\d{10}$/.test(t.mobile_number)},M=()=>{P.value=!/^\d{10}$/.test(t.whatsapp_number)},D=()=>{if(y.value.length===0){alert("Please add items to cart before placing order");return}if(d.getters["products/totalPrice"]<m.min_order_value){alert(`Order value must be at least ₹${m.min_order_value}`);return}const n=/^[0-9]{10}$/;if(!n.test(t.mobile_number)){alert("Please enter a valid 10-digit mobile number");return}if(!n.test(t.whatsapp_number)){alert("Please enter a valid 10-digit WhatsApp number");return}t.post(route("orders.store"),{onSuccess:()=>{d.commit("products/clearCart")},onError:r=>{alert("Failed to place order. Please check your details and try again.")}})};return(n,r)=>{var I;return u(),c("div",H,[J,s("div",K,[s("div",Q,[X,s("div",Z,[ss,s("span",null,l(((I=n.$page.props.settings)==null?void 0:I.company_name)||"Company Name"),1)])]),s("div",es,[s("div",ts,[s("div",as,[os,s("span",rs,l(e(V))+" items",1)]),w.value?(u(),c("div",is,ds)):(u(),c("div",cs,[(u(!0),c(W,null,$(e(y),a=>(u(),c("div",{key:a.id,class:"order-item-card"},[s("div",us,[s("img",{src:"/storage/"+a.image,alt:"item image",class:"item-image"},null,8,ms),s("div",_s,l(a.quantity),1)]),s("div",ps,[s("h4",hs,l(a.name),1),a.name_ta&&a.name!==a.name_ta?(u(),c("p",vs,l(a.name_ta),1)):b("",!0),s("div",fs,[s("span",bs,"₹"+l(a.price),1),s("span",gs,"₹"+l(Math.round(a.quantity*a.price)),1)])])]))),128))])),w.value?b("",!0):(u(),c("div",ys,[s("div",ws,[s("span",null,"Subtotal ("+l(e(V))+" items)",1),s("span",null,"₹"+l(e(A)),1)]),e(S)>0?(u(),c("div",ks,[Ns,s("span",null,"-₹"+l(e(S)),1)])):b("",!0),s("div",Ps,[Cs,s("span",null,"₹"+l(m.delivery_charges),1)]),xs,s("div",Vs,[Ss,s("span",null,"₹"+l(e(q)),1)])])),!w.value&&e(d).getters["products/totalPrice"]<m.min_order_value?(u(),c("div",Is,[As,s("div",qs,[Es,s("p",null,"Add ₹"+l(m.min_order_value-e(d).getters["products/totalPrice"])+" more to your cart",1)])])):b("",!0)]),s("div",Ms,[Ds,s("form",{onSubmit:F(D,["prevent"]),class:"customer-form"},[s("div",Us,[Ts,s("div",Ws,[s("div",$s,[Fs,p(s("input",{id:"name","onUpdate:modelValue":r[0]||(r[0]=a=>e(t).name=a),type:"text",required:"",placeholder:"Enter your full name",class:"form-input"},null,512),[[h,e(t).name]]),_(v,{message:e(t).errors.name},null,8,["message"])])]),s("div",Bs,[s("div",zs,[Ls,p(s("input",{id:"mobile","onUpdate:modelValue":r[1]||(r[1]=a=>e(t).mobile_number=a),type:"tel",required:"",placeholder:"10-digit mobile number",class:x(["form-input",{error:N.value}]),onInput:E},null,34),[[h,e(t).mobile_number]]),N.value?(u(),c("span",Ys,[js,i(" Please enter a valid 10-digit mobile number ")])):b("",!0),_(v,{message:e(t).errors.mobile_number},null,8,["message"])]),s("div",Rs,[Gs,p(s("input",{id:"whatsapp","onUpdate:modelValue":r[2]||(r[2]=a=>e(t).whatsapp_number=a),type:"tel",required:"",placeholder:"10-digit WhatsApp number",class:x(["form-input",{error:P.value}]),onInput:M},null,34),[[h,e(t).whatsapp_number]]),P.value?(u(),c("span",Hs,[Js,i(" Please enter a valid 10-digit WhatsApp number ")])):b("",!0),_(v,{message:e(t).errors.whatsapp_number},null,8,["message"])])])]),s("div",Ks,[Qs,s("div",Xs,[Zs,p(s("input",{id:"city","onUpdate:modelValue":r[3]||(r[3]=a=>e(t).city_town=a),type:"text",required:"",placeholder:"Enter your city or town",class:"form-input"},null,512),[[h,e(t).city_town]]),_(v,{message:e(t).errors.city_town},null,8,["message"])]),s("div",se,[ee,p(s("textarea",{id:"address","onUpdate:modelValue":r[4]||(r[4]=a=>e(t).address=a),required:"",placeholder:"Enter your complete address including street, area, landmarks",rows:"3",class:"form-textarea"},null,512),[[h,e(t).address]]),_(v,{message:e(t).errors.address},null,8,["message"])]),s("div",te,[s("div",ae,[oe,p(s("input",{id:"district","onUpdate:modelValue":r[5]||(r[5]=a=>e(t).district=a),type:"text",required:"",placeholder:"Enter district",class:"form-input"},null,512),[[h,e(t).district]]),_(v,{message:e(t).errors.district},null,8,["message"])]),s("div",re,[ie,p(s("input",{id:"state","onUpdate:modelValue":r[6]||(r[6]=a=>e(t).state=a),type:"text",placeholder:"Enter state",class:"form-input"},null,512),[[h,e(t).state]]),_(v,{message:e(t).errors.state},null,8,["message"])])]),s("div",le,[ne,p(s("input",{id:"pincode","onUpdate:modelValue":r[7]||(r[7]=a=>e(t).pin_code=a),type:"text",placeholder:"Enter 6-digit PIN code",class:"form-input"},null,512),[[h,e(t).pin_code]]),_(v,{message:e(t).errors.pin_code},null,8,["message"])])]),s("div",de,[s("button",{type:"submit",class:x(["submit-button",{disabled:!e(k)}]),disabled:!e(k)},[ue,i(" "+l(e(k)?"Place Order Now":"Complete all fields"),1)],10,ce),me])],40,Os)])]),s("div",_e,[_(e(Y),{href:"/",class:"back-link"},{default:B(()=>[pe,i(" Continue Shopping ")]),_:1})])])])}}},ye=G(he,[["__scopeId","data-v-94db6883"]]);export{ye as default};
